{"version":3,"sources":["archive-project.js"],"names":["window","document","projectFilterData","mapboxgl","accessToken","Vue","component","template","props","data","map","mapCenter","mapZoom","scrollMagicController","mounted","this","Map","container","style","center","zoom","scrollZoom","disable","dragRotate","dragPan","doubleClickZoom","touchZoomRotate","watch","projects","newProjects","_this","destroy","ScrollMagic","Controller","setTimeout","length","p","setupProjectScene","resetMap","methods","project","el","getElementById","slug","scene","Scene","triggerElement","duration","offsetHeight","addTo","on","event","className","indexOf","moveMapTo","split","join","geoJsonString","geojson","geoJson","JSON","parse","updateSource","updateLayers","geoJsonBounds","turf","extent","fitBounds","maxZoom","padding","top","bottom","left","right","getSource","removeSource","getLayer","removeLayer","easeTo","id","addSource","type","source","addLayer","paint","fill-color","fill-opacity","fill-outline-color","filter","layout","icon-image","icon-offset","icon-size","icon-allow-overlap","active","isActive","newVal","select","$emit","selectIsOpen","computed","choice","activeChoice","toggleSelect","console","log","selectSortChoice","value","selectChoice","loading","currentFilterGroup","currentFilters","service","issue","date","status","location","currentSort","e","getProjects","projectApiUrl","sortProjects","hasFilters","computeFilterString","filterArray","default_val","str","forEach","key","push","services","issues","locations","Date","getTime","seconds","toggleFilterGroup","toggle","toggleFilter","filter_obj","filterIndex","taxonomy","splice","toggleDate","toggleStatus","resetFilters","toggleSort","newSort","sortKey","sort","a","b","titleA","title","toUpperCase","titleB","begin_date","end_date","url","instance","fetch","HSC","api","then","response","json","catch","ex"],"mappings":";;;;CAGA,SAAYA,GACX,YACA,IAAIC,GAAWD,EAAOC,QAEnB,IAAOD,EAAOE,kBAAd,CAEAC,SAASC,YAAc,gFAEvBC,IAAIC,UAAW,eAEXC,SAAU,2DACVC,OAAQ,YACRC,KAAM,WACF,OACIC,KAAK,EACLC,YAAa,kBAAmB,mBAChCC,QAAS,GACTC,uBAAuB,IAG/BC,QAAS,WAELC,KAAKL,IAAM,GAAIP,UAASa,KACpBC,UAAW,sBACXC,MAAO,6DACPC,OAAQJ,KAAKJ,UACbS,KAAML,KAAKH,UAEfG,KAAKL,IAAIW,WAAWC,UACpBP,KAAKL,IAAIa,WAAWD,UACpBP,KAAKL,IAAIc,QAAQF,UACjBP,KAAKL,IAAIe,gBAAgBH,UACzBP,KAAKL,IAAIgB,gBAAgBJ,WAG7BK,OACIC,SAAU,SAAUC,GAEhB,GAAIC,GAAQf,IAEPA,MAAKF,uBACNE,KAAKF,sBAAsBkB,UAG/BhB,KAAKF,sBAAwB,GAAImB,aAAYC,WAG7CC,WAAW,WACP,GAAKL,EAAYM,OACb,IAAM,GAAIC,GAAE,EAAGP,EAAYM,OAASC,EAAGA,IACnCN,EAAMO,kBAAmBR,EAAYO,QAGzCN,GAAMQ,YAGZ,OAIVC,SAEIF,kBAAmB,SAASG,GAExB,GAAIV,GAAQf,KACR0B,EAAKxC,EAASyC,eAAgBF,EAAQG,MACtCC,EAAQ,GAAIZ,aAAYa,OACxBC,eAAgBL,EAChBM,SAAUN,EAAGO,eAEhBC,MAAOlC,KAAKF,sBAEb+B,GAAMM,GAAI,QAAS,SAASC,IACmB,GAAtCV,EAAGW,UAAUC,QAAQ,eACtBZ,EAAGW,WAAa,cAEpBtB,EAAMwB,UAAUd,KAEpBI,EAAMM,GAAI,QAAS,SAASC,GACxBV,EAAGW,UAAYX,EAAGW,UAAUG,MAAM,aAAaC,KAAK,OAK5DF,UAAW,SAASd,GAChB,GAAIiB,GAAgBjB,EAAQkB,OAC5B,IAAOD,EAAP,CACA,GAAIE,GAAUC,KAAKC,MAAMJ,EAEzB1C,MAAK+C,aAAc,mBAAoBH,GACvC5C,KAAKgD,aAAc,mBAEnB,IAAIC,GAAgBC,KAAKC,OAAOP,EAChC5C,MAAKL,IAAIyD,UAAUH,GAAiBI,QAAS,GAAIC,SAAWC,IAAI,GAAIC,OAAO,GAAIC,KAAK,GAAIC,MAAM,QAGlGnC,SAAU,WACDvB,KAAKL,IAAIgE,UAAU,qBACpB3D,KAAKL,IAAIiE,aAAa,oBAErB5D,KAAKL,IAAIkE,SAAS,qBACnB7D,KAAKL,IAAImE,YAAY,oBAEpB9D,KAAKL,IAAIkE,SAAS,mBACnB7D,KAAKL,IAAImE,YAAY,kBAGzB9D,KAAKL,IAAIoE,QAAQ3D,OAAOJ,KAAKJ,UAAUS,KAAKL,KAAKH,WAGrDkD,aAAc,SAASiB,EAAIpB,GAClB5C,KAAKL,IAAIgE,UAAUK,IACpBhE,KAAKL,IAAIiE,aAAaI,GAE1BhE,KAAKL,IAAIsE,UAAUD,GAAKE,KAAO,UAAWxE,KAAOkD,KAGrDI,aAAc,SAASmB,GACdnE,KAAKL,IAAIkE,SAAS,qBACnB7D,KAAKL,IAAImE,YAAY,oBAEpB9D,KAAKL,IAAIkE,SAAS,mBACnB7D,KAAKL,IAAImE,YAAY,kBAGzB9D,KAAKL,IAAIyE,UACLJ,GAAM,mBACNE,KAAQ,OACRC,OAAUA,EACVE,OACIC,aAAc,UACdC,eAAgB,GAChBC,qBAAsB,iBAE1BC,QAAW,KAAM,QAAS,aAG9BzE,KAAKL,IAAIyE,UACLJ,GAAM,iBACNE,KAAQ,SACRC,OAAUA,EACVO,QACIC,aAAc,UACdC,eAAgB,GAAG,IACnBC,YAAa,EACbC,sBAAsB,GAE1BT,SACAI,QAAW,KAAM,QAAS,eAQ1CnF,IAAIC,UAAW,eACXC,SAAU,oIACVC,OAAS,YAAa,YACtBC,KAAM,WACF,OACIqF,OAAQ/E,KAAKgF,WAGrBpE,OACIoE,SAAU,SAASC,GACfjF,KAAK+E,OAASE,IAGtBzD,SACI0D,OAAQ,WACJlF,KAAKmF,MAAM,cAKvB7F,IAAIC,UAAW,eACXC,SAAU,eACVC,OAAQ,gBACRC,KAAM,WACF,OACI0F,cAAc,IAGtBC,UACIC,OAAQ,WACJ,MAAOtF,MAAKuF,eAGpB/D,SACIgE,aAAc,WACVC,QAAQC,IAAI,gBACZ1F,KAAKoF,cAAepF,KAAKoF,cAE7BO,iBAAkB,SAASC,GACvBH,QAAQC,IAAI,oBACZ1F,KAAKmF,MAAM,mBAAoBS,OAK3CtG,IAAIC,UAAW,eACXC,SAAU,sIACVC,OAAQ,QAAS,QACjBC,KAAM,WACF,UAIJ8B,SACIqE,aAAc,WACVJ,QAAQC,IAAI,gBACZ1F,KAAKmF,MAAM,mBAKb,IAAI7F,MACVoC,GAAI,uBACJhC,MACIoG,SAAS,EACTC,mBAAoB,UACpBC,gBACIC,WACAC,SACAC,MAAM,EACNC,QAAQ,EACRC,aAEJC,YAAa,kBACbnH,kBAAmBA,kBACnB0B,aAEJd,QAAS,SAASwG,GACdvG,KAAKwG,YAAYxG,KAAKyG,gBAE1B7F,OACI0F,YAAa,WACTtG,KAAK0G,aAAa1G,KAAKsG,eAG/BjB,UACIsB,WAAY,WACR,QAAK3G,KAAKgG,eAAeC,QAAQ7E,WAC5BpB,KAAKgG,eAAeE,MAAM9E,WAC1BpB,KAAKgG,eAAeK,SAASjF,WAC7BpB,KAAKgG,eAAeG,SACpBnG,KAAKgG,eAAeI,YAAzB,QAEJK,cAAe,WAmBX,QAASG,GAAoBC,EAAaC,GACtC,GAAIC,KACJ,OAAKF,GAAYzF,QACbyF,EAAYG,QAAQ,SAASpB,EAAOqB,GAChCF,EAAIG,KAAKtB,KAENmB,EAAItE,KAAK,MAETqE,EAzBf,GAAIK,GAAYP,EAAoB5G,KAAKgG,eAAeC,QAAS,gBAC7DmB,EAAYR,EAAoB5G,KAAKgG,eAAeE,MAAO,cAC3DmB,EAAYT,EAAoB5G,KAAKgG,eAAeK,SAAU,iBAC9DF,EAAY,YACZC,EAAY,YAEhB,IAAKpG,KAAKgG,eAAeG,KAAO,CAI5BA,GAHU,GAAImB,OACOC,UAAY,IAEbvH,KAAKgG,eAAeG,KAAKqB,QAmBjD,MAhBKxH,MAAKgG,eAAeI,SACrBA,EAASpG,KAAKgG,eAAeI,OAAOxE,OAe/BuE,EAAMgB,EAAUC,EAAQhB,EAAQiB,GAAY5E,KAAK,OAGlEjB,SAEIiG,kBAAmB,SAAUC,EAAQnB,GACjCvG,KAAK+F,mBAAqB2B,EAAO9F,MAGrC+F,aAAc,SAAUC,EAAYrB,GAChC,GAAIsB,GAAc7H,KAAKgG,eAAe4B,EAAWE,UAAUxF,QAAQsF,EAAWhG,KACzEiG,IAAe,EAChB7H,KAAKgG,eAAe4B,EAAWE,UAAUC,OAAOF,EAAa,GAE7D7H,KAAKgG,eAAe4B,EAAWE,UAAUZ,KAAKU,EAAWhG,MAE7D5B,KAAK8F,SAAU,EACf9F,KAAKwG,YAAYxG,KAAKyG,gBAG1BuB,WAAY,SAASJ,EAAYrB,GACxBvG,KAAKgG,eAAeG,KAAKqB,SAAWI,EAAWJ,QAChDxH,KAAKgG,eAAeG,MAAO,EAE3BnG,KAAKgG,eAAeG,KAAOyB,EAE/B5H,KAAK8F,SAAU,EACf9F,KAAKwG,YAAYxG,KAAKyG,gBAG1BwB,aAAc,SAASL,EAAYrB,GAC1BvG,KAAKgG,eAAeI,OAAOxE,MAAQgG,EAAWhG,KAC/C5B,KAAKgG,eAAeI,QAAS,EAE7BpG,KAAKgG,eAAeI,OAASwB,EAEjC5H,KAAK8F,SAAU,EACf9F,KAAKwG,YAAYxG,KAAKyG,gBAG1ByB,aAAc,WACVlI,KAAKgG,gBACDC,WACAC,SACAC,MAAM,EACNC,QAAQ,EACRC,aAEJrG,KAAK8F,SAAU,EACf9F,KAAKwG,YAAYxG,KAAKyG,gBAG1B0B,WAAY,SAASC,GACZpI,KAAKsG,cAAgB8B,IAC1BpI,KAAKsG,YAAc8B,IAGvB1B,aAAc,SAAS2B,GACnB,GAAKrI,KAAKa,SAASO,OACf,OAAOiH,GACH,IAAK,aACDrI,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,GAAIC,GAASF,EAAEG,MAAMC,cACjBC,EAASJ,EAAEE,MAAMC,aACrB,OAAIF,GAASG,GAAgB,EACzBH,EAASG,EAAe,EACrB,GAEX,MACJ,KAAK,YACD5I,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,GAAIC,GAASF,EAAEG,MAAMC,cACjBC,EAASJ,EAAEE,MAAMC,aACrB,OAAIF,GAASG,GAAgB,EACzBH,EAASG,EAAe,EACrB,GAEX,MACJ,KAAK,kBACD5I,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,MAAID,GAAEM,WAAaL,EAAEK,YAAoB,EACrCN,EAAEM,WAAaL,EAAEK,WAAmB,EACjC,GAEX,MACJ,KAAK,iBACD7I,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,MAAID,GAAEM,WAAaL,EAAEK,YAAoB,EACrCN,EAAEM,WAAaL,EAAEK,WAAmB,EACjC,GAEX,MACJ,KAAK,gBACD7I,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,MAAID,GAAEO,SAAWN,EAAEM,UAAkB,EACjCP,EAAEO,SAAWN,EAAEM,SAAiB,EAC7B,GAEX,MACJ,KAAK,eACD9I,KAAKa,SAASyH,KAAK,SAASC,EAAEC,GAC1B,MAAID,GAAEO,SAAWN,EAAEM,UAAkB,EACjCP,EAAEO,SAAWN,EAAEM,SAAiB,EAC7B,GAEX,MACJ,SACI,SAKhBtC,YAAa,SAAUuC,GACnB,GAAIC,GAAWhJ,IAEfiJ,OAAOC,IAAIC,IAAM,aAAeJ,GAC3BK,KAAK,SAASC,GACX,MAAOA,GAASC,SAEnBF,KAAK,SAASE,GACXN,EAASnI,SAAWyI,EACpBN,EAASlD,SAAU,IAEtByD,MAAM,SAASC,GACZ/D,QAAQC,IAAI,uBAAwB8D,WAQzDxJ","file":"archive-project.min.js"}