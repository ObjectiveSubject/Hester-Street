{"version":3,"sources":["archive-project.js"],"names":["window","document","mapboxSupported","projectFilterData","mapboxgl","accessToken","supported","Vue","component","template","props","data","map","mapCenter","mapZoom","scrollMagicController","timeout","mounted","this","Map","container","style","center","zoom","scrollZoom","disable","dragRotate","dragPan","doubleClickZoom","touchZoomRotate","Sticky","stickyFor","stickyContainer","watch","projects","newProjects","_this","destroy","ScrollMagic","Controller","setTimeout","length","p","setupProjectScene","resetMap","methods","project","el","getElementById","slug","scene","Scene","triggerElement","duration","offsetHeight","addTo","on","event","className","indexOf","scrollDirection","split","join","clearTimeout","moveMapTo","geoJsonString","geojson","geoJson","JSON","parse","updateSource","updateLayers","geoJsonBounds","turf","extent","fitBounds","maxZoom","padding","top","bottom","left","right","getSource","removeSource","getLayer","removeLayer","easeTo","id","addSource","type","source","addLayer","paint","fill-color","fill-outline-color","filter","layout","icon-image","icon-offset","icon-size","icon-allow-overlap","line-color","line-width","active","isActive","newVal","select","$emit","selectIsOpen","computed","choice","activeChoice","toggleSelect","selectSortChoice","value","selectChoice","loading","error","queryData","current_page","found_posts","total_pages","currentFilterGroup","currentFilters","service","issue","date","status","location","currentSort","beforeMount","preloadFilters","$el","getAttribute","Object","assign","e","getProjects","getProjectApiUrl","newSort","sortProjects","hasFilters","page","computeFilterString","filterArray","default_val","str","forEach","key","push","services","issues","locations","Date","getTime","seconds","toggleFilterGroup","toggle","toggleFilter","filter_obj","filterIndex","taxonomy","splice","toggleDate","toggleStatus","resetFilters","toggleSort","sortKey","sort","a","b","titleA","title","toUpperCase","titleB","begin_date","end_date","url","append","console","log","fetch","HSC","api","then","response","json","query","concat","posts","catch","ex","getMoreProjects"],"mappings":"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","file":"archive-project.min.js"}