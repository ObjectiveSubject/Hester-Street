{"version":3,"sources":["archive-project.js"],"names":["window","document","mapboxSupported","projectFilterData","mapboxgl","accessToken","supported","Vue","component","template","props","data","map","mapCenter","mapZoom","scrollMagicController","timeout","previousProject","mounted","this","Map","container","style","center","zoom","scrollZoom","disable","dragRotate","dragPan","doubleClickZoom","touchZoomRotate","Sticky","stickyFor","stickyContainer","watch","projects","newProjects","_this","destroy","ScrollMagic","Controller","setTimeout","length","p","setupProjectScene","resetMap","methods","project","el","getElementById","slug","scene","Scene","triggerElement","duration","offsetHeight","addTo","on","event","className","indexOf","scrollDirection","split","join","clearTimeout","moveMapTo","previous","geoJson","projectBounds","fitOptions","maxZoom","padding","top","bottom","left","right","geoJsonString","geojson","JSON","parse","updateSource","updateLayers","prevGeoJsonString","prevGeoJson","previousCenter","turf","projectCenter","distance","linear","extent","fitBounds","getSource","removeSource","getLayer","removeLayer","easeTo","id","addSource","type","source","addLayer","paint","fill-color","fill-outline-color","filter","layout","icon-image","icon-offset","icon-size","icon-allow-overlap","line-color","line-width","active","isActive","newVal","select","$emit","selectIsOpen","computed","choice","activeChoice","toggleSelect","selectSortChoice","value","selectChoice","loading","error","search","searchTimeout","undefined","searchHelper","queryData","current_page","found_posts","total_pages","currentFilterGroup","currentFilters","service","issue","date","status","location","currentSort","searchedProjects","beforeMount","preloadFilters","$el","getAttribute","Object","assign","e","getProjects","getProjectApiUrl","newSort","sortProjects","newSearch","searchProjects","hasFilters","page","computeFilterString","filterArray","default_val","str","forEach","key","push","services","issues","locations","Date","getTime","seconds","toggleFilterGroup","toggle","toggleFilter","filter_obj","filterIndex","taxonomy","splice","toggleDate","toggleStatus","resetFilters","toggleSort","sortKey","sort","a","b","titleA","title","toUpperCase","titleB","begin_date","end_date","url","append","fetch","HSC","api","then","response","json","query","concat","posts","catch","ex","console","log","keywords","replace","projectsForm","getMoreProjects"],"mappings":"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","file":"archive-project.min.js"}