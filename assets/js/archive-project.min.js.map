{"version":3,"sources":["archive-project.js"],"names":["window","document","mapboxSupported","projectFilterData","mapboxgl","accessToken","supported","Vue","component","template","props","data","map","mapCenter","mapZoom","scrollMagicController","mounted","this","Map","container","style","center","zoom","scrollZoom","disable","dragRotate","dragPan","doubleClickZoom","touchZoomRotate","watch","projects","newProjects","_this","destroy","ScrollMagic","Controller","setTimeout","length","p","setupProjectScene","resetMap","methods","project","el","getElementById","slug","scene","Scene","triggerElement","duration","offsetHeight","addTo","on","event","className","indexOf","scrollDirection","split","join","moveMapTo","geoJsonString","geojson","geoJson","JSON","parse","updateSource","updateLayers","geoJsonBounds","turf","extent","fitBounds","maxZoom","padding","top","bottom","left","right","getSource","removeSource","getLayer","removeLayer","easeTo","id","addSource","type","source","addLayer","paint","fill-color","fill-opacity","fill-outline-color","filter","layout","icon-image","icon-offset","icon-size","icon-allow-overlap","line-color","line-width","active","isActive","newVal","select","$emit","selectIsOpen","computed","choice","activeChoice","toggleSelect","selectSortChoice","value","selectChoice","loading","currentFilterGroup","currentFilters","service","issue","date","status","location","currentSort","beforeMount","preloadFilters","$el","getAttribute","Object","assign","e","getProjects","projectApiUrl","newSort","sortProjects","hasFilters","computeFilterString","filterArray","default_val","str","forEach","key","push","services","issues","locations","Date","getTime","seconds","toggleFilterGroup","toggle","toggleFilter","filter_obj","filterIndex","taxonomy","splice","toggleDate","toggleStatus","resetFilters","toggleSort","sortKey","sort","a","b","titleA","title","toUpperCase","titleB","begin_date","end_date","url","instance","fetch","HSC","api","then","response","json","catch","ex","console","log"],"mappings":"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","file":"archive-project.min.js"}