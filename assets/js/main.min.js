/*! Hester Street Collaborative - v1.0.0
 * http://hesterstreet.org/
 * Copyright (c) 2017; * Licensed GPLv2+ */

function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}"function"!=typeof Object.assign&&(Object.assign=function(a,b){"use strict";if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(c[f]=e[f])}return c}),function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return r.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){var b=new FileReader,c=g(b);return b.readAsText(a),c}function j(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&t(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return v.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(a instanceof n){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||null==a._bodyInit||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function p(a){var b=new e;return a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b}function q(a,b){b||(b={}),this.type="default",this.status="status"in b?b.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var r={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},r.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];q.redirect=function(a,b){if(-1===w.indexOf(b))throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=n,a.Response=q,a.fetch=function(a,b){return new Promise(function(c,d){var e=new n(a,b),f=new XMLHttpRequest;f.onload=function(){var a={status:f.status,statusText:f.statusText,headers:p(f.getAllResponseHeaders()||"")};a.url="responseURL"in f?f.responseURL:a.headers.get("X-Request-URL");var b="response"in f?f.response:f.responseText;c(new q(b,a))},f.onerror=function(){d(new TypeError("Network request failed"))},f.ontimeout=function(){d(new TypeError("Network request failed"))},f.open(e.method,e.url,!0),"include"===e.credentials&&(f.withCredentials=!0),"responseType"in f&&r.blob&&(f.responseType="blob"),e.headers.forEach(function(a,b){f.setRequestHeader(b,a)}),f.send(void 0===e._bodyInit?null:e._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),function(a){function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(a,this)}function e(a,b){for(;3===a._state;)a=a._value;if(0===a._state)return void a._deferreds.push(b);a._handled=!0,d._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?f:g)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void g(b.promise,e)}f(b.promise,d)})}function f(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var e=b.then;if(b instanceof d)return a._state=3,a._value=b,void h(a);if("function"==typeof e)return void j(c(e,b),a)}a._state=1,a._value=b,h(a)}catch(f){g(a,f)}}function g(a,b){a._state=2,a._value=b,h(a)}function h(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)e(a,a._deferreds[b]);a._deferreds=null}function i(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function j(a,b){var c=!1;try{a(function(a){c||(c=!0,f(b,a))},function(a){c||(c=!0,g(b,a))})}catch(d){if(c)return;c=!0,g(b,d)}}var k=setTimeout;d.prototype.catch=function(a){return this.then(null,a)},d.prototype.then=function(a,c){var d=new this.constructor(b);return e(this,new i(a,c,d)),d},d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0==--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(b){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.race=function(a){return new d(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){k(a,0)},d._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},d._setImmediateFn=function(a){d._immediateFn=a},d._setUnhandledRejectionFn=function(a){d._unhandledRejectionFn=a},"undefined"!=typeof module&&module.exports?module.exports=d:a.Promise||(a.Promise=d)}(this);var Sticky=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.selector=b,this.elements=[],this.version="1.2.0",this.vp=this.getViewportSize(),this.body=document.querySelector("body"),this.options={wrap:c.wrap||!1,marginTop:c.marginTop||0,stickyFor:c.stickyFor||0,stickyClass:c.stickyClass||null,stickyContainer:c.stickyContainer||"body"},this.updateScrollTopPosition=this.updateScrollTopPosition.bind(this),this.updateScrollTopPosition(),window.addEventListener("load",this.updateScrollTopPosition),window.addEventListener("scroll",this.updateScrollTopPosition),this.run()}return a.prototype.run=function(){var a=this,b=setInterval(function(){if("complete"===document.readyState){clearInterval(b);var c=document.querySelectorAll(a.selector);a.forEach(c,function(b){return a.renderElement(b)})}},10)},a.prototype.renderElement=function(a){var b=this;a.sticky={},a.sticky.active=!1,a.sticky.marginTop=parseInt(a.getAttribute("data-margin-top"))||this.options.marginTop,a.sticky.stickyFor=parseInt(a.getAttribute("data-sticky-for"))||this.options.stickyFor,a.sticky.stickyClass=a.getAttribute("data-sticky-class")||this.options.stickyClass,a.sticky.wrap=!!a.hasAttribute("data-sticky-wrap")||this.options.wrap,a.sticky.stickyContainer=this.options.stickyContainer,a.sticky.container=this.getStickyContainer(a),a.sticky.container.rect=this.getRectangle(a.sticky.container),a.sticky.rect=this.getRectangle(a),"img"===a.tagName.toLowerCase()&&(a.onload=function(){return a.sticky.rect=b.getRectangle(a)}),a.sticky.wrap&&this.wrapElement(a),this.activate(a)},a.prototype.wrapElement=function(a){a.insertAdjacentHTML("beforebegin","<span></span>"),a.previousSibling.appendChild(a)},a.prototype.activate=function(a){a.sticky.rect.top+a.sticky.rect.height<a.sticky.container.rect.top+a.sticky.container.rect.height&&a.sticky.stickyFor<this.vp.width&&!a.sticky.active&&(a.sticky.active=!0),this.elements.indexOf(a)<0&&this.elements.push(a),a.sticky.resizeEvent||(this.initResizeEvents(a),a.sticky.resizeEvent=!0),a.sticky.scrollEvent||(this.initScrollEvents(a),a.sticky.scrollEvent=!0),this.setPosition(a)},a.prototype.initResizeEvents=function(a){var b=this;a.sticky.resizeListener=function(){return b.onResizeEvents(a)},window.addEventListener("resize",a.sticky.resizeListener)},a.prototype.destroyResizeEvents=function(a){window.removeEventListener("resize",a.sticky.resizeListener)},a.prototype.onResizeEvents=function(a){this.vp=this.getViewportSize(),a.sticky.rect=this.getRectangle(a),a.sticky.container.rect=this.getRectangle(a.sticky.container),a.sticky.rect.top+a.sticky.rect.height<a.sticky.container.rect.top+a.sticky.container.rect.height&&a.sticky.stickyFor<this.vp.width&&!a.sticky.active?a.sticky.active=!0:(a.sticky.rect.top+a.sticky.rect.height>=a.sticky.container.rect.top+a.sticky.container.rect.height||a.sticky.stickyFor>=this.vp.width&&a.sticky.active)&&(a.sticky.active=!1),this.setPosition(a)},a.prototype.initScrollEvents=function(a){var b=this;a.sticky.scrollListener=function(){return b.onScrollEvents(a)},window.addEventListener("scroll",a.sticky.scrollListener)},a.prototype.destroyScrollEvents=function(a){window.removeEventListener("scroll",a.sticky.scrollListener)},a.prototype.onScrollEvents=function(a){a.sticky.active&&this.setPosition(a)},a.prototype.setPosition=function(a){this.css(a,{position:"",width:"",top:"",left:""}),this.vp.height<a.sticky.rect.height||!a.sticky.active||(a.sticky.rect.width||(a.sticky.rect=this.getRectangle(a)),a.sticky.wrap&&this.css(a.parentNode,{display:"block",width:a.sticky.rect.width+"px",height:a.sticky.rect.height+"px"}),0===a.sticky.rect.top&&a.sticky.container===this.body?this.css(a,{position:"fixed",top:a.sticky.rect.top+"px",left:a.sticky.rect.left+"px",width:a.sticky.rect.width+"px"}):this.scrollTop>a.sticky.rect.top-a.sticky.marginTop?(this.css(a,{position:"fixed",width:a.sticky.rect.width+"px",left:a.sticky.rect.left+"px"}),this.scrollTop+a.sticky.rect.height+a.sticky.marginTop>a.sticky.container.rect.top+a.sticky.container.offsetHeight?(a.sticky.stickyClass&&a.classList.remove(a.sticky.stickyClass),this.css(a,{top:a.sticky.container.rect.top+a.sticky.container.offsetHeight-(this.scrollTop+a.sticky.rect.height)+"px"})):(a.sticky.stickyClass&&a.classList.add(a.sticky.stickyClass),this.css(a,{top:a.sticky.marginTop+"px"}))):(a.sticky.stickyClass&&a.classList.remove(a.sticky.stickyClass),this.css(a,{position:"",width:"",top:"",left:""}),a.sticky.wrap&&this.css(a.parentNode,{display:"",width:"",height:""})))},a.prototype.update=function(){var a=this;this.forEach(this.elements,function(b){b.sticky.rect=a.getRectangle(b),b.sticky.container.rect=a.getRectangle(b.sticky.container),a.activate(b),a.setPosition(b)})},a.prototype.destroy=function(){var a=this;this.forEach(this.elements,function(b){a.destroyResizeEvents(b),a.destroyScrollEvents(b),delete b.sticky})},a.prototype.getStickyContainer=function(a){for(var b=a.parentNode;!b.hasAttribute("data-sticky-container")&&!b.parentNode.querySelector(a.sticky.stickyContainer)&&b!==this.body;)b=b.parentNode;return b},a.prototype.getRectangle=function(a){this.css(a,{position:"",width:"",top:"",left:""});var b=Math.max(a.offsetWidth,a.clientWidth,a.scrollWidth),c=Math.max(a.offsetHeight,a.clientHeight,a.scrollHeight),d=0,e=0;do{d+=a.offsetTop||0,e+=a.offsetLeft||0,a=a.offsetParent}while(a);return{top:d,left:e,width:b,height:c}},a.prototype.getViewportSize=function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},a.prototype.updateScrollTopPosition=function(){this.scrollTop=(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0},a.prototype.forEach=function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},a.prototype.css=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},a}();!function(a,b){"undefined"!=typeof exports?module.exports=b:"function"==typeof define&&define.amd?define([],b):a.Sticky=b}(this,Sticky),function(a){"use strict";var b=a.document,c={domReady:function(a){"interactive"===b.readyState||"complete"===b.readyState?a():b.addEventListener("DOMContentLoaded",a)},getMediaSize:function(c){return c=c||"body",a.getComputedStyle(b.querySelector(c),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")}};c.domReady(function(){var a=b.querySelector("html");a&&(a.className=a.className.split("no-js").join("js"))}),a.hsc=c}(this),function(a){"use strict";var b=a.document,c={node:b.querySelector(".site-menu"),init:function(){c.toggles(),c.hoverColors()},toggles:function(){var a=b.querySelectorAll(".js-menu-toggle"),c=b.querySelector("body",!0),d=function(a){a.preventDefault(),c.className=c.className.indexOf("has-open-menu")>-1?c.className.split("has-open-menu").join(""):c.className+" has-open-menu"};if(a.length)for(var e=0;a.length>e;e++){var f=a[e];f.addEventListener("click",d)}},hoverColors:function(){function a(a){var b=a.target.innerText.toLowerCase();c.node.setAttribute("data-background",b)}function d(a){c.node.setAttribute("data-background","")}for(var e=b.querySelectorAll(".header-primary-menu .menu-item a"),f=0;e.length>f;f++)e[f].addEventListener("mouseover",a),e[f].addEventListener("mouseout",d)}};hsc.domReady(c.init)}(this),function(a){"use strict";a.document;hsc.domReady(function(){Sticky&&new Sticky(".masthead.is-sticky",{wrap:!1,marginTop:48,stickyFor:768,stickyClass:"is-fixed",stickyContainer:".sidebar-masthead"})})}(this),function(a){"use strict";var b=a.document,c={init:function(){c.classToggles()},class:b.querySelectorAll(".js-class-toggle"),classToggles:function(){var a="click",d={click:function(a){a.preventDefault();var c=b.querySelectorAll(a.target.dataset.target),d=a.target.dataset.class;if(c.length)for(var e=0;c.length>e;e++)c[e].className.indexOf(d)>-1?c[e].className.split(d).join(""):c[e].className=c[e].className+" "+d}};if(c.class.length)for(var e=0;c.class.length>e;e++)a=c.class[e].dataset.event||a,c.class[e].addEventListener(a,d[a])}};hsc.domReady(function(){c.init()})}(this),function(a){"use strict";var b=a.document,c={nodes:[],init:function(){c.nodes=b.querySelectorAll(".js-hsc-video");for(var a=0;c.nodes.length>a;a++)c.addClickEvent(a)},addClickEvent:function(a){c.nodes[a].addEventListener("click",function(){c.initPlayer(c.nodes[a])})},initPlayer:function(a){var b,d,e,f=a.getAttribute("data-url"),g=a.getAttribute("data-callback");if(f){if(f.indexOf("vimeo.com/")>-1)b="vimeo.com";else{if(!(f.indexOf("youtu.be/")>-1))return;b="youtu.be"}switch(d=f.split(b+"/")[1],b){case"vimeo.com":e='<iframe src="https://player.vimeo.com/video/'+d+'?autoplay=1&title=0&byline=0&portrait=0" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';break;case"youtu.be":e='<iframe width="640" height="360" src="https://www.youtube.com/embed/'+d+'" frameborder="0" allowfullscreen></iframe>'}a.className=a.className.split("video--preload").join(" video--loaded "),a.innerHTML=e,g&&c[g]()}},removeBadge:function(){b.querySelector(".badge").className+=" is-displaced"}};hsc.domReady(function(){c.init()})}(this);
//# sourceMappingURL=main.min.js.map